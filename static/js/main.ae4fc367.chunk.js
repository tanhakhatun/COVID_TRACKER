(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{19:function(e,t,c){},21:function(e,t,c){},23:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(10),o=c.n(r),s=(c(19),c(9)),i=c.n(s),l=c(11),u=c(3);function d(e){var t={};return null===e||void 0===e||e.map((function(e){t[e.country]={active:e.active,total:e.cases,deaths:e.deaths,recovered:e.recovered,countryInfo:e.countryInfo}})),t}function j(){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(i.a.mark((function e(){var t,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://corona.lmao.ninja/v2/countries?yesterday&sort");case 3:return e.next=5,e.sent.json();case 5:return t=e.sent,c=d(t),e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}c(21);var h=c(1);function b(e){var t=e.countryInfo;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("img",{src:null===t||void 0===t?void 0:t.flag,className:"countryFlag",alt:"countryFlag"})})}c(23);function f(e){var t=e.changeMapColor,c=e.heading,n=e.cases,a=e.color,r=e.type;return Object(h.jsxs)("div",{onClick:function(){t(a,r)},className:"cardContainer",children:[Object(h.jsx)("h3",{children:c}),Object(h.jsx)("div",{className:"cardBody",style:{background:a},children:n})]})}var O=c(30),p=c(26),g=c(27),x=c(28),y=c(31),m=c(32),C=c(29),k={blue:"total",red:"active",green:"recovered",grey:"deaths"};function M(e){var t=e.lat,c=e.long,a=Object(n.useState)(null),r=Object(u.a)(a,2),o=r[0],s=r[1],i=Object(p.b)({locationfound:function(e){s({lat:t,lng:c}),i.flyTo({lat:t,lng:c},i.getZoom(5))}});return null===o?null:Object(h.jsx)(g.a,{position:o,children:Object(h.jsx)(x.a,{children:"You are here"})})}function I(e){var t=e.covidData,c=e.mapMarkerInfo,a=e.selectedCountry,r=e.globalMaxCount,o=e.lat,s=e.long,i=Object(p.a)();return Object(n.useEffect)((function(){i.locate(),i.zoomIn(1)}),[o,s]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object.keys(t).map((function(e){var n,a=null===(n=t[e])||void 0===n?void 0:n.countryInfo,o=a.lat,s=a.long;return Object(h.jsx)(m.a,{center:[o,s],pathOptions:{color:c.color},radius:Math.max(5,200*t[e][c.type]/r[[c.type]]),children:Object(h.jsx)(C.a,{children:t[e][k[c.color]]})},"".concat(e,"_map_id"))})),Object(h.jsx)(M,{lat:o,long:s,children:Object(h.jsx)(x.a,{children:a})})]})}c(24);var N=function(){var e,t=Object(n.useState)([]),c=Object(u.a)(t,2),a=c[0],r=c[1],o=Object(n.useState)(!0),s=Object(u.a)(o,2),d=s[0],v=s[1],p=Object(n.useState)("India"),g=Object(u.a)(p,2),x=g[0],y=g[1],m=Object(n.useState)({color:"red",type:"active"}),C=Object(u.a)(m,2),k=C[0],M=C[1],N=Object(n.useState)({total:0,active:0,recovered:0,deaths:0}),S=Object(u.a)(N,2),w=S[0],F=S[1],T=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,r(t),v(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){T()}),[]),Object(n.useEffect)((function(){var e={total:0,active:0,recovered:0,deaths:0};Object.keys(a).forEach((function(t){e.total=Math.max(e.total,a[t].total),e.active=Math.max(e.active,a[t].active),e.recovered=Math.max(e.recovered,a[t].recovered),e.deaths=Math.max(e.deaths,a[t].deaths)})),F(e)}),[a]),d)return Object(h.jsx)("div",{className:"waitingLoader",children:"Waiting...."});var D=function(e,t){M({color:e,type:t})};return Object(h.jsxs)("div",{className:"covidTrackerContainer",children:[Object(h.jsx)("h1",{className:"covidTrackerHeading",children:"Covid tracker"}),Object(h.jsxs)("div",{className:"covidTrackerBody",children:[Object(h.jsx)("div",{children:function(){var e,t=null===(e=a[x])||void 0===e?void 0:e.countryInfo,c=t.lat,n=t.long;return Object(h.jsx)(O.a,{className:"covidMap",center:[c,n],zoom:3,scrollWheelZoom:!0,children:Object(h.jsx)(I,{covidData:a,mapMarkerInfo:k,selectedCountry:x,globalMaxCount:w,lat:c,long:n})})}()}),Object(h.jsxs)("div",{className:"right",children:[Object(h.jsxs)("div",{className:"flagSelectContainer",children:[Object(h.jsx)(b,{countryInfo:null===(e=a[x])||void 0===e?void 0:e.countryInfo}),Object(h.jsx)("select",{className:"countryDropDown",value:x,onChange:function(e){y(e.target.value)},children:Object.keys(a).map((function(e){return Object(h.jsx)("option",{children:e},e)}))})]}),Object(h.jsx)("div",{className:"cardsContainer",children:Object(h.jsxs)("div",{className:"trackerCardsContainer",children:[Object(h.jsx)(f,{changeMapColor:D,heading:"Total",cases:a[x].total,color:"blue",type:"total"}),Object(h.jsx)(f,{changeMapColor:D,heading:"Active",cases:a[x].active,color:"red",type:"active"}),Object(h.jsx)(f,{changeMapColor:D,heading:"Deaths",cases:a[x].deaths,color:"grey",type:"deaths"}),Object(h.jsx)(f,{changeMapColor:D,heading:"Recovered",cases:a[x].recovered,color:"green",type:"recovered"})]})})]})]})]})},S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,33)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),r(e),o(e)}))};o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(N,{})}),document.getElementById("root")),S()}},[[25,1,2]]]);
//# sourceMappingURL=main.ae4fc367.chunk.js.map